SET SERVEROUTPUT ON;
CREATE SEQUENCE SEC_PELICULAS
              START WITH 1
              INCREMENT BY 1
              NOMAXVALUE;
              
               CREATE TABLE PELICULAS(ID_PELICULAS INTEGER, TITULO VARCHAR2(20), SINOPSIS VARCHAR2 (50),
              CONSTRAINT PK_ID_PELICULAS PRIMARY KEY (ID_PELICULAS));
              

CREATE SEQUENCE SEC_HORARIOS
              START WITH 1
              INCREMENT BY 1
              NOMAXVALUE;
              
               CREATE TABLE HORARIOS(ID_HORARIO INTEGER, ID_PELICULAS INTEGER , FECHA DATE,
              CONSTRAINT PK_ID_HORARIO PRIMARY KEY (ID_HORARIO),
              CONSTRAINT FK1_ID_PELICULAS FOREIGN KEY (ID_PELICULAS)
              REFERENCES PELICULAS(ID_PELICULAS));
              
              CREATE TABLE SALAS(NUM_SALAS INTEGER, ID_PELICULAS INTEGER,
               CONSTRAINT PK_NUM_SALAS PRIMARY KEY (NUM_SALAS),
              CONSTRAINT FK2_ID_PELICULAS FOREIGN KEY (ID_PELICULAS)
              REFERENCES PELICULAS(ID_PELICULAS));
              
              
              CREATE OR REPLACE PROCEDURE GUARDAR_PELICULAS(MY_ID_PELICULA OUT INTEGER, 
              MY_TITULO IN VARCHAR2, MY_SINOPSIS IN VARCHAR2) AS
              BEGIN
              SELECT SEC_PELICULAS.NEXTVAL INTO MY_ID_PELICULA FROM DUAL;
              INSERT INTO PELICULAS VALUES (MY_ID_PELICULA, MY_TITULO, MY_SINOPSIS);
              END;
              /
              
              CREATE OR REPLACE PROCEDURE GUARDAR_SALAS(MY_NUM_SALAS IN  INTEGER, 
              MY_ID_PELICULA  IN INTEGER) AS
              BEGIN
              INSERT INTO SALAS VALUES (MY_NUM_SALAS, MY_ID_PELICULA);
              END;
              /
              
              
              CREATE OR REPLACE PROCEDURE GUARDAR_HORARIOS(MY_ID_HORARIO OUT INTEGER, 
              MY_ID_PELICULA IN INTEGER, MY_FECHA IN DATE) AS
              BEGIN
              SELECT SEC_HORARIOS.NEXTVAL INTO MY_ID_HORARIO FROM DUAL;
              INSERT INTO HORARIOS VALUES (MY_ID_HORARIO, MY_ID_PELICULA, MY_FECHA);
              END;
              /
              
                            
              
              
